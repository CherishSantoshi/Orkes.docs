"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[2036],{3905:function(t,e,n){n.d(e,{Zo:function(){return u},kt:function(){return c}});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var p=a.createContext({}),s=function(t){var e=a.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},u=function(t){var e=s(t.components);return a.createElement(p.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,p=t.parentName,u=i(t,["components","mdxType","originalType","parentName"]),m=s(n),c=r,k=m["".concat(p,".").concat(c)]||m[c]||d[c]||l;return n?a.createElement(k,o(o({ref:e},u),{},{components:n})):a.createElement(k,o({ref:e},u))}));function c(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,o=new Array(l);o[0]=m;var i={};for(var p in e)hasOwnProperty.call(e,p)&&(i[p]=e[p]);i.originalType=t,i.mdxType="string"==typeof t?t:r,o[1]=i;for(var s=2;s<l;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5702:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return i},contentTitle:function(){return p},metadata:function(){return s},toc:function(){return u},default:function(){return m}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),o=["components"],i={sidebar_position:1},p="HTTP Task",s={unversionedId:"reference-docs/system-tasks/http-task",id:"reference-docs/system-tasks/http-task",isDocsHomePage:!1,title:"HTTP Task",description:"`json",source:"@site/docs/reference-docs/system-tasks/http-task.md",sourceDirName:"reference-docs/system-tasks",slug:"/reference-docs/system-tasks/http-task",permalink:"/content/docs/reference-docs/system-tasks/http-task",editUrl:"https://github.com/orkes-io/docs/edit/main/docs/reference-docs/system-tasks/http-task.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"referenceDocsSideBar",previous:{title:"Conductor Reference Documentation",permalink:"/content/docs/reference-docs"},next:{title:"Inline Task",permalink:"/content/docs/reference-docs/system-tasks/inline-task"}},u=[{value:"Introduction",id:"introduction",children:[]},{value:"Use Cases",id:"use-cases",children:[]},{value:"Configuration",id:"configuration",children:[]},{value:"Examples",id:"examples",children:[]},{value:"Best Practices",id:"best-practices",children:[]}],d={toc:u};function m(t){var e=t.components,n=(0,r.Z)(t,o);return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"http-task"},"HTTP Task"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'"type" : "HTTP"\n')),(0,l.kt)("h3",{id:"introduction"},"Introduction"),(0,l.kt)("p",null,"An HTTP task is useful when you have a requirements such as"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Making calls to another service that exposes an API via HTTP"),(0,l.kt)("li",{parentName:"ol"},"Fetch any resource or data present on an endpoint")),(0,l.kt)("h3",{id:"use-cases"},"Use Cases"),(0,l.kt)("p",null,"If we have a scenario where we need to make an HTTP call into another service, we can make use of HTTP tasks. You can\nuse the data returned from the HTTP call in your subsequent tasks as inputs. Using HTTP tasks you can avoid having to\nwrite the code that talks to these services and instead let Conductor manage it directly. This can reduce the code you\nhave to maintain and allows for a lot of flexibility."),(0,l.kt)("h3",{id:"configuration"},"Configuration"),(0,l.kt)("p",null,"HTTP task is defined directly inside the workflow with the task type ",(0,l.kt)("inlineCode",{parentName:"p"},"HTTP"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"name"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http_request"),(0,l.kt)("td",{parentName:"tr",align:null},"HttpRequest"),(0,l.kt)("td",{parentName:"tr",align:null},"JSON object (see below)")))),(0,l.kt)("h4",{id:"inputs"},"Inputs"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"uri"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"URI for the service. Can be a partial when using vipAddress or includes the server address.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"method"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"HTTP method. One of the GET, PUT, POST, DELETE, OPTIONS, HEAD")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"accept"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Accept header as required by server. Defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"application/json"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"contentType"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Content Type - supported types are ",(0,l.kt)("inlineCode",{parentName:"td"},"text/plain"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"text/html"),", and ",(0,l.kt)("inlineCode",{parentName:"td"},"application/json")," (Default)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"headers"),(0,l.kt)("td",{parentName:"tr",align:null},"Map","[String, Any]"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"A map of additional http headers to be sent along with the request.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"body"),(0,l.kt)("td",{parentName:"tr",align:null},"Map[]"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Request body")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"vipAddress"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"When using discovery based service URLs.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"asyncComplete"),(0,l.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"TODO: Link to details"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")," to mark status COMPLETED upon execution ; ",(0,l.kt)("inlineCode",{parentName:"td"},"true")," to keep it IN_PROGRESS, wait for an external event (via Conductor or SQS or EventHandler) to complete it.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"oauthConsumerKey"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://oauth.net/core/1.0/"},"OAuth")," client consumer key")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"oauthConsumerSecret"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://oauth.net/core/1.0/"},"OAuth")," client consumer secret")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"connectionTimeOut"),(0,l.kt)("td",{parentName:"tr",align:null},"Integer"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Connection Time Out in milliseconds. If set to 0, equivalent to infinity. Default: 100.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"readTimeOut"),(0,l.kt)("td",{parentName:"tr",align:null},"Integer"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Read Time Out in milliseconds. If set to 0, equivalent to infinity. Default: 150.")))),(0,l.kt)("h4",{id:"output"},"Output"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"name"),(0,l.kt)("th",{parentName:"tr",align:null},"type"),(0,l.kt)("th",{parentName:"tr",align:null},"description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"response"),(0,l.kt)("td",{parentName:"tr",align:null},"Map"),(0,l.kt)("td",{parentName:"tr",align:null},"JSON body containing the response if one is present")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"headers"),(0,l.kt)("td",{parentName:"tr",align:null},"Map","[String, Any]"),(0,l.kt)("td",{parentName:"tr",align:null},"Response Headers")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"statusCode"),(0,l.kt)("td",{parentName:"tr",align:null},"Integer"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://en.wikipedia.org/wiki/List_of_HTTP_status_codes"},"Http Status Code"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"reasonPhrase"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"Http Status Code's reason phrase")))),(0,l.kt)("h3",{id:"examples"},"Examples"),(0,l.kt)("p",null,"Following is the example of HTTP task with ",(0,l.kt)("inlineCode",{parentName:"p"},"GET")," method."),(0,l.kt)("p",null,"We can use variables in our URI as show in the example below. For details on how to use inputs, refer to\nthis ",(0,l.kt)("a",{parentName:"p",href:"/content/docs/how-tos/task-inputs"},"page"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "Get Example",\n  "taskReferenceName": "get_example",\n  "inputParameters": {\n    "http_request": {\n      "uri": "https://jsonplaceholder.typicode.com/posts/${workflow.input.queryid}",\n      "method": "GET"\n    }\n  },\n  "type": "HTTP"\n}\n')),(0,l.kt)("p",null,"Following is the example of HTTP task with ",(0,l.kt)("inlineCode",{parentName:"p"},"POST")," method."),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Here we are using variables for our POST body which happens to be data from a previous task. This is an example of how you can ",(0,l.kt)("strong",{parentName:"p"},"chain")," HTTP calls to make complex flows happen without writing any additional code.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "http_post_example",\n  "taskReferenceName": "post_example",\n  "inputParameters": {\n    "http_request": {\n      "uri": "https://jsonplaceholder.typicode.com/posts/",\n      "method": "POST",\n      "body": {\n        "title": "${get_example.output.response.body.title}",\n        "userId": "${get_example.output.response.body.userId}",\n        "action": "doSomething"\n      }\n    }\n  },\n  "type": "HTTP"\n}\n')),(0,l.kt)("p",null,"Following is the example of HTTP task with ",(0,l.kt)("inlineCode",{parentName:"p"},"PUT")," method."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "http_put_example",\n  "taskReferenceName": "put_example",\n  "inputParameters": {\n    "http_request": {\n      "uri": "https://jsonplaceholder.typicode.com/posts/1",\n      "method": "PUT",\n      "body": {\n        "title": "${get_example.output.response.body.title}",\n        "userId": "${get_example.output.response.body.userId}",\n        "action": "doSomethingDifferent"\n      }\n    }\n  },\n  "type": "HTTP"\n}\n')),(0,l.kt)("p",null,"Following is the example of HTTP task with ",(0,l.kt)("inlineCode",{parentName:"p"},"DELETE")," method."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "DELETE Example",\n  "taskReferenceName": "delete_example",\n  "inputParameters": {\n    "http_request": {\n      "uri": "https://jsonplaceholder.typicode.com/posts/1",\n      "method": "DELETE"\n    }\n  },\n  "type": "HTTP"\n}\n')),(0,l.kt)("h3",{id:"best-practices"},"Best Practices"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Why are my HTTP tasks not getting picked up?",(0,l.kt)("ol",{parentName:"li"},(0,l.kt)("li",{parentName:"ol"},"We might have too many HTTP tasks in the queue. There is a concept called Isolation Groups that you can rely on\nfor prioritizing certain HTTP tasks over others. Read more here: ",(0,l.kt)("a",{parentName:"li",href:"https://netflix.github.io/conductor/configuration/isolationgroups/"},"Isolation Groups"))))))}m.isMDXComponent=!0}}]);