---
sidebar_position: 1
---

# Switch Task

## What is a Switch Task?

A switch task is similar to `case...switch` statement in a programming
language. The `switch` expression, however, is simply an input parameter
(`value-param` evaluator) or a complex javascript expression
(`javascript` evaluator). Only two evaluators are supported by default
in conductor.

## Common Use Cases 

## Configuration / Properties

Switch task is defined directly inside the workflow with
`"type":"SWITCH"`.

### Inputs

Following are the input parameters :

|name|type|description|
|---|---|---|
|evaluatorType|String|Type of the evaluator used. Supported types: `value-param`, `javascript`.|
|expression|String|Expression that depends on the evaluator type. For `value-param` evaluator, expression is input parameter, for `javascript` evaluator, it is the javascript expression.|
|decisionCases|Map[String, List[task]]|Map where key is possible values that can result from `expression` being evaluated by `evaluatorType` with value being list of tasks to be executed.|
|defaultCase|List[task]|List of tasks to be executed when no matching value if found in decision case (default condition)|


### Output

Following is/are output generated by the `Switch` Task.

|name|type|description|
|---|---|---|
|evaluationResult|List[String]|A List of string representing the list of cases that matched.|

## Examples

Suppose in a workflow, we have to take decision to ship the courier with the shipping
service providers on the basis of input provided while running the workflow.

Tasks are same as we defined in [Dynamic Task](/docs/reference-docs/dynamic-task).
Tasks are same as we defined in `Dynamic Task`.

We will create the Workflow with the following definition :

```json
{
  "name": "Switch_Task_Shipping_Info",
  "description": "Switch_Task_Shipping_Info",
  "version": 1,
  "ownerEmail":"abc@example.com",
  "tasks": [
  {
    "name": "shipping_info",
    "taskReferenceName": "shipping_info",
    "inputParameters": {
        },
    "type": "SIMPLE"
  },
  {
  "name": "switch_task",
  "taskReferenceName": "switch_task",
  "inputParameters": {
    "case_value_param": "${workflow.input.service}"
  },
  "type": "SWITCH",
  "ownerEmail":"abc@example.com",
  "evaluatorType": "value-param",
  "expression": "case_value_param",
  "defaultCase": [
   {
        "name": "ship_via_dhl",
        "taskReferenceName": "ship_via_dhl",
        "inputParameters": {
        },
        "type": "SIMPLE"
      }
   ],
  "decisionCases": {
    "fedex": [
      {
        "name": "ship_via_fedex",
        "taskReferenceName": "ship_via_fedex",
        "inputParameters": {
        },
        "type": "SIMPLE"
      }
    ],
    "ups": [
      {
        "name": "ship_via_ups",
        "taskReferenceName": "ship_via_ups",
        "inputParameters": {
        },
        "type": "SIMPLE"
      }
    ]
  }
}
],
  "restartable": true,
  "workflowStatusListenerEnabled": true,
  "schemaVersion": 2
}
```

Workflow is the created as shown in the below diagram.

![Conductor UI - Workflow Diagram](/img/tutorial/Switch_Workflow.png)

Note : `switch_task` is a `SWITCH` task and the `case_value_param` parameter can be set
with input value provided while running the workflow. i.e. `${workflow.input.service}`.

```json
{
  "service": "fedex"
}
```

Based on given set of inputs i.e. `"service":"fedex"`, `ship_via_fedex` is executed -

![Conductor UI - Workflow Run](/img/tutorial/Switch_Fedex.png)


If the input `"service":"ups"` is provided then, `ship_via_ups` is executed -

![Conductor UI - Workflow Run](/img/tutorial/Switch_UPS.png)

If the any input other than above 2 is provided then `ship_via_dhl` is executed -

![Conductor UI - Workflow Run](/img/tutorial/Switch_Default.png)



## FAQs

TODO: Gotchas and other nuances

1. Question 1
    1. Answer

1. Question 2
    1. Answer
