---
sidebar_position: 1
---

# Switch Task

```json
"type" : "SWITCH"
```

A switch task is similar to `case...switch` statement in a programming language. The `switch` expression, however, is
simply an input parameter
(`value-param` evaluator) or a complex javascript expression
(`javascript` evaluator). Currently, two evaluators are supported in conductor.

|name|description|
|---|---|
| value-param | Use a parameter directly as the value |
| javascript | Evaluate Javascript expressions and compute value |

## Common Use Cases

Useful in any situation where we have to execute one of many task options.

### Example Use Case

In this example workflow, we have to ship a package with the shipping service providers on the basis of input provided
while running the workflow.

Let's create a Workflow with the following definition:

```json
{
  "name": "Switch_Task_Shipping_Info",
  "description": "Switch_Task_Shipping_Info",
  "version": 1,
  "ownerEmail": "abc@example.com",
  "tasks": [
    {
      "name": "shipping_info",
      "taskReferenceName": "shipping_info",
      "inputParameters": {
        "service": "${workflow.input.service}"
      },
      "type": "SIMPLE"
    },
    {
      "name": "switch_task",
      "taskReferenceName": "switch_task",
      "inputParameters": {
        "switch_case_value": "${workflow.input.service}"
      },
      "type": "SWITCH",
      "evaluatorType": "value-param",
      "expression": "switch_case_value",
      "ownerEmail": "abc@example.com",
      "defaultCase": [
        {
          "name": "ship_via_dhl",
          "taskReferenceName": "ship_via_dhl",
          "type": "SIMPLE"
        }
      ],
      "decisionCases": {
        "fedex": [
          {
            "name": "ship_via_fedex",
            "taskReferenceName": "ship_via_fedex",
            "type": "SIMPLE"
          }
        ],
        "ups": [
          {
            "name": "ship_via_ups",
            "taskReferenceName": "ship_via_ups",
            "type": "SIMPLE"
          }
        ]
      }
    }
  ],
  "restartable": true,
  "workflowStatusListenerEnabled": true,
  "schemaVersion": 2
}
```

In the workflow definition above, `switch_task` is a `SWITCH` task and the value of the parameter `switch_case_value`
is used to determine the case. In this example, the evaluator type is `value-param` and the expression is a direct
reference to the name of an input parameter.

If the workflow is started with the input: `"service":"fedex"` the decision case `ship_via_fedex` is executed as shown
below.

![Conductor UI - Workflow Run](/img/tutorial/Switch_Fedex.png)

In a similar way - if the service input was `ups`, then `ship_via_ups` will be executed. If none of the cases match then
the default option is executed.

## Configuration / Properties

### Task Configuration Parameters

Following are the task configuration parameters :

|name|type|description|
|---|---|---|
|evaluatorType|String|Type of the evaluator used. Supported types: `value-param`, `javascript`.|
|expression|String|Expression that depends on the evaluator type. For `value-param` evaluator, expression is input parameter, for `javascript` evaluator, it is the javascript expression.|
|decisionCases|Map[String, List[task]]|Map where key is possible values that can result from `expression` being evaluated by `evaluatorType` with value being list of tasks to be executed.|
|defaultCase|List[task]|List of tasks to be executed when no matching value if found in decision case (default condition)|

### Output

Following is/are output generated by the `Switch` Task.

|name|type|description|
|---|---|---|
|evaluationResult|List[String]|A List of string representing the list of cases that matched.|


